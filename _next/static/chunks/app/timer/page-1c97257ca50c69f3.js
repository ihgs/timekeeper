(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[498],{9204:function(e,t,n){Promise.resolve().then(n.bind(n,8327))},8327:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var i=n(3827),a=n(4090),s=n(7907);let l=(0,n(4814).Z)({mode:"vega",spec:{$schema:"https://vega.github.io/schema/vega/v5.json",description:"Presentaion timer",autosize:"none",signals:[{name:"minutes",update:"data('timer')[0].min"},{name:"innerRadius",init:"width/4"},{name:"startDate",init:"now()"},{name:"endDate",init:"now()+minutes*60*1000"},{name:"timer",init:"0",on:[{events:{type:"timer",throttle:1e3},update:"(now()- startDate)/(endDate-startDate)*6.29"}]},{name:"fontSize",init:"40"},{name:"fontPadding",init:"5"}],data:[{name:"table",values:[{id:1,value:10},{id:2,value:20},{id:3,value:50}],transform:[{type:"window",ops:["sum"],fields:["value"],as:["sum"]},{type:"pie",field:"value",startAngle:0,endAngle:6.29,sort:!1}]},{name:"timer",values:[]}],scales:[{name:"color",type:"ordinal",domain:{data:"table",field:"id"},range:{scheme:"category20"}}],marks:[{type:"arc",from:{data:"table"},encode:{enter:{fill:{scale:"color",field:"id"},x:{signal:"width / 2"},y:{signal:"height / 2"}},update:{startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},padAngle:{value:0},innerRadius:{signal:"innerRadius"},outerRadius:{signal:"width / 2 - fontSize - fontPadding"},cornerRadius:{value:0}}}},{type:"arc",encode:{enter:{fill:{value:"white"},x:{signal:"width / 2"},y:{signal:"height / 2"}},update:{startAngle:{value:0},endAngle:{signal:"timer"},padAngle:{value:0},innerRadius:{signal:"innerRadius"},outerRadius:{signal:"width / 2 - fontSize - fontPadding"},cornerRadius:{value:0}}}},{type:"text",from:{data:"table"},encode:{enter:{x:{signal:"width / 2"},y:{signal:"height / 2"},radius:{signal:"width / 2 - fontSize/2"},theta:{signal:"datum.endAngle"},fill:{value:"#000"},align:{value:"center"},baseline:{value:"middle"},text:{signal:"(minutes - datum.sum) == 0 ? minutes : (minutes - datum.sum)"}},update:{fontSize:{signal:"timer < datum.endAngle ? fontSize: fontSize/2"}}}}],width:400,height:400}});var d=n(4332),r=n(3890);function u(){let e=(0,s.useSearchParams)(),t=e.get("min"),n=e.get("points"),[u,o]=(0,a.useState)([]),[m,g]=(0,a.useState)(!1),[c,h]=(0,a.useState)(300);return(0,a.useEffect)(()=>{h(Math.min(window.innerHeight,window.innerWidth)),n&&o(n.split(",").map((e,t)=>({id:t,value:parseInt(e)})))},[n]),(0,i.jsx)(d.Z,{sx:{paddingTop:12},direction:"column",gap:6,alignItems:"center",children:m?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l,{actions:!1,data:{table:u,timer:[{min:t}]},width:.8*c,height:.8*c})}):(0,i.jsx)("div",{className:"flex flex-row items-center",children:(0,i.jsxs)(r.Z,{variant:"contained",onClick:()=>g(!0),children:["Start (",t," åˆ†)"]})})})}}},function(e){e.O(0,[110,687,971,69,744],function(){return e(e.s=9204)}),_N_E=e.O()}]);